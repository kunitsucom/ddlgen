package ast

import (
	"context"
	"time"

	"github.com/kunitsucom/ddlgen/internal/contexts"
)

type DDL struct {
	Header []string
	Indent string
	Stmts  []Stmt
}

func NewDDL(ctx context.Context) *DDL {
	return &DDL{
		Header: []string{
			"Code generated by ddlgen. DO NOT EDIT.",
			"",
			"Date: " + contexts.Now(ctx).Format(time.RFC3339),
			"",
		},
		Indent: "    ",
	}
}

type Stmt interface {
	GetSourceFile() string
	GetSourceLine() int
	stmt()
}
